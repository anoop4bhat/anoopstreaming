<html>
  <head>
    <title>Anoop's Hacky demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://unpkg.com/@daily-co/daily-js"></script>
    <link rel="icon" type="image/png" href="./assets/favicon.png" />
    <link rel="stylesheet" href="./index.css" />
    <script src="./index.js"></script>
  </head>
  <body onload="setup()" class="main">
    <div class="container">
      <header class="header">
        <img
          src="assets/logo@2x.png"
          class="logo"
          alt="Anoops logo!"
        />
      </header>
      <h1 class="title">Live Streaming webRTC calls</h1>
      <h4 class="title"> Built using Amazon IVS and daily.co and running on AWS App Runner!</h4>
      <br> <br> <br>
      <div class="instructions">
        <p id="instruction-text">
          Enter a room URL (contact raanoop@ if you don't have one!)
        </p>
        <div class="input-and-buttons">
          <label for="room-url"></label>
          <input
            type="text"
            class="room-url"
            id="room-url"
            placeholder="Room URL"
            pattern="^(https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.(daily\.co\/)([a-z0-9]+)+$"
          />
          <button class="join-call button" onclick="joinCall()">
            Join call
          </button>
        </div>
        <div>
          <h2 class="title">Click <a href = "https://codepen.io/anoop4bhat/full/abJYeMm" target="_blank" rel="noopener noreferrer" > here </a> to watch your live stream </h1>
        </div>
        <p class="expires-countdown"></p>
      </div>
      <div class="call-container">
        <div class="callframe" id="callframe"></div>
        <div class="call-panel hide">
          <h2 class="call-panel--title">Call overview</h2>
          <div class="info">
            <h3 class="call-panel--subtitle">Meeting participants</h3>
            <ul id="meeting-participants-info"></ul>
          </div>
          <div class="info">
            <h3 class="call-panel--subtitle">Network stats</h3>
            <p class="loading-network">Loading your network stats...</p>
            <ul class="network-info"></ul>
          </div>
          <div class="info">
            <h3 class="call-panel--subtitle">Example custom controls</h3>
            <h4 class="call-panel--control-type">Participant controls</h4>
            <button
              class="call-panel--button button"
              id="camera-button"
              onclick="toggleCamera()"
            >
              Toggle camera
            </button>
            <button
              class="call-panel--button button"
              id="mic-button"
              onclick="toggleMic()"
            >
              Toggle mic
            </button>
            <button
              class="call-panel--button button"
              id="share-button"
              onclick="toggleScreenshare()"
            >
              Share screen
            </button>
            <button
              class="call-panel--button button"
              id="recording-button"
              onclick="toggleRecording()"
            >
              Start recording
            </button>
            <button
              class="call-panel--button button"
              id="fullscreen-button"
              onclick="callFrame.requestFullscreen()"
            >
              Expand fullscreen
            </button>
            <button
              class="call-panel--button button"
              id="local-video-button"
              onclick="toggleLocalVideo()"
            >
              Toggle local video
            </button>
            <button
              class="call-panel--button button"
              id="participants-bar-button"
              onclick="toggleParticipantsBar()"
            >
              Toggle participants bar
            </button>
            <button
              class="call-panel--button button"
              id="start-livestreaming"
              onclick="startLiveStreaming()"
            >
              Start live streaming
            </button>
            <button
              class="call-panel--button button"
              id="stop-livestreaming"
              onclick="stopLiveStreaming()"
            >
              Stop live streaming
            </button>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
